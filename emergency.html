<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emergency Contacts</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="top-note">*Reach us instantly in any medical emergency. We're here for you 24/7.</div>
    <a href="../IT(main)/index.html" class="back-home-btn">
        <i class="fas fa-arrow-left"></i> Back to Home
    </a>
    <img src="images/emergency-bg.png.png" alt="Emergency Background" class="background-art" />

    <main class="main-content">
        <header class="header-block">
            <h1 class="main-title">Emergency Contacts</h1>
        </header>
        <div class="button-row">
            <div class="button-box call" data-copy="+20 100 123 4567">
                <span class="btn-icon">üìû</span>
                <span class="btn-text">Call ER Now</span>
            </div>
            <div class="button-box ambulance">
                <span class="btn-icon">üöë</span>
                <span class="btn-text">Request Ambulance</span>
            </div>
            <div class="button-box location" onclick="window.open('https://www.google.com/maps?q=30.0715,31.3005', '_blank')">
                <span class="btn-icon">üìç</span>
                <span class="btn-text">Locate Nearest Facility</span>
            </div>
        </div>
        <hr>
        <section class="info-section">
            <div class="section-title">
                <span class="section-icon">üìß</span> Emergency Email & Location
            </div>
            <ul class="info-list">
                <li>
                    <span class="dot"></span>
                    <span class="info-icon">‚úâÔ∏è</span>
                    <b>Email:</b> <span class="info-value copy-email" data-copy="emergency@hospital.com">emergency@hospital.com</span>
                    <span class="copied-msg" style="display:none;">Copied!</span>
                </li>
                <li>
                    <span class="dot"></span>
                    <span class="info-icon">üìç</span>
                    <b>Location:</b> <span class="info-value">Emergency Unit, Ground Floor ‚Äì Building A</span>
                </li>
            </ul>
        </section>
        <hr>
        <section class="table-section">
            <div class="section-title">
                <span class="section-icon">üìû</span> Primary Emergency Numbers
            </div>
            <table class="emergency-table">
                <colgroup>
                    <col span="1" style="width: 33.3%;">
                    <col span="1" style="width: 33.3%;">
                    <col span="1" style="width: 33.3%;">
                </colgroup>
                <thead>
                    <tr>
                        <th><span class="table-icon">üöí</span> Service</th>
                        <th><span class="table-icon">üì±</span> Contact Number</th>
                        <th><span class="table-icon">üïí</span> Availability</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Emergency Room (ER)</td>
                        <td>+20 100 123 4567</td>
                        <td>24/7</td>
                    </tr>
                    <tr>
                        <td>Ambulance Service</td>
                        <td>+20 122 789 4561</td>
                        <td>24/7</td>
                    </tr>
                    <tr>
                        <td>Poison Control Center</td>
                        <td>+20 150 222 3344</td>
                        <td>24/7</td>
                    </tr>
                    <tr>
                        <td>Fire Department</td>
                        <td>180</td>
                        <td>National Emergency Line</td>
                    </tr>
                    <tr>
                        <td>Police Hotline</td>
                        <td>122</td>
                        <td>For safety/security issues</td>
                    </tr>
                </tbody>
            </table>
        </section>
    </main>
    <div class="warning-row">
        <span class="warning-icon">&#9888;</span>
        <span class="warning-text">
            <b>If someone is unconscious, having chest pain, or severe bleeding:</b>
            Call emergency services immediately and do not delay treatment.
        </span>
    </div>

    <div class="message-box" id="copyMessage">
        <span class="message-icon">‚úì</span>
        <span class="message-text">Number copied to clipboard!</span>
    </div>

    <div class="message-box" id="ambulanceMessage">
        <span class="message-icon">üöë</span>
        <span class="message-text">Ambulance request sent successfully!</span>
    </div>

    <!-- Chatbot HTML -->
    <div class="chatbot-container">
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">Emergency Assistant</div>
            <div class="chatbot-messages" id="chatbotMessages">
                <div class="message bot-message">Hello! I'm here to help with any emergency-related questions. How can I assist you?</div>
            </div>
            <div class="chatbot-input">
                <input type="text" id="chatbotInput" placeholder="Type your emergency question...">
                <button onclick="sendMessage()">Send</button>
            </div>
        </div>
        <button class="chatbot-button" onclick="toggleChatbot()">
            <img src="images/Group 14 (1).png" alt="Emergency Assistant" style="width:44px;height:44px;object-fit:contain;" />
        </button>
    </div>

    <style>
        /* Chatbot styles */
        
        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .chatbot-button {
            background-color: #BEB596;
            color: black;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .chatbot-window {
            display: none;
            width: 300px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        .chatbot-header {
            background-color: #BEB596;
            color: black;
            padding: 10px 15px;
            font-weight: bold;
        }
        
        .chatbot-messages {
            height: 200px;
            padding: 10px;
            overflow-y: auto;
            background: #f9f9f9;
        }
        
        .chatbot-input {
            display: flex;
            padding: 10px;
            border-top: 1px solid #ddd;
        }
        
        .chatbot-input input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
        }
        
        .chatbot-input button {
            background: #BEB596;
            border: none;
            border-radius: 20px;
            padding: 8px 15px;
            margin-left: 5px;
            cursor: pointer;
        }
        
        .message {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 18px;
            max-width: 80%;
        }
        
        .bot-message {
            background: #e6e6e6;
            align-self: flex-start;
        }
        
        .user-message {
            background: #BEB596;
            color: black;
            align-self: flex-end;
            margin-left: auto;
        }
    </style>

    <script>
        // Copy email to clipboard
        document.querySelectorAll('.copy-email').forEach(function(el) {
            el.addEventListener('click', function() {
                navigator.clipboard.writeText(el.dataset.copy);
                var msg = el.parentElement.querySelector('.copied-msg');
                msg.style.display = 'inline';
                setTimeout(function() {
                    msg.style.display = 'none';
                }, 1200);
            });
        });

        // Copy ER number to clipboard
        document.querySelector('.button-box.call').addEventListener('click', function() {
            navigator.clipboard.writeText(this.dataset.copy);
            var messageBox = document.getElementById('copyMessage');
            messageBox.style.display = 'flex';
            setTimeout(function() {
                messageBox.style.display = 'none';
            }, 2000);
        });

        // Handle ambulance request
        document.querySelector('.button-box.ambulance').addEventListener('click', function() {
            var messageBox = document.getElementById('ambulanceMessage');
            messageBox.style.display = 'flex';
            setTimeout(function() {
                window.location.reload();
            }, 1500);
        });

        // Chatbot functionality
        function toggleChatbot() {
            const chatbotWindow = document.getElementById('chatbotWindow');
            chatbotWindow.style.display = chatbotWindow.style.display === 'block' ? 'none' : 'block';
        }

        function sendMessage() {
            const input = document.getElementById('chatbotInput');
            const messages = document.getElementById('chatbotMessages');
            const userMessage = input.value.trim();
            if (userMessage) {
                // Add user message
                messages.innerHTML += `<div class="message user-message">${userMessage}</div>`;
                input.value = '';

                // Emergency-specific bot responses
                let botResponse = "For immediate assistance, please use the emergency numbers provided above.";

                if (userMessage.toLowerCase().includes('ambulance')) {
                    botResponse = "Click the 'Request Ambulance' button above for immediate ambulance service. Our team will be dispatched right away.";
                } else if (userMessage.toLowerCase().includes('location') || userMessage.toLowerCase().includes('where')) {
                    botResponse = "Our emergency unit is located on the Ground Floor of Building A. Click the 'Locate Nearest Facility' button for directions.";
                } else if (userMessage.toLowerCase().includes('contact') || userMessage.toLowerCase().includes('number')) {
                    botResponse = "Our main emergency number is +20 100 123 4567. You can also email us at emergency@hospital.com";
                } else if (userMessage.toLowerCase().includes('hours') || userMessage.toLowerCase().includes('open')) {
                    botResponse = "Our emergency services are available 24/7. We never close for emergencies.";
                }

                // Add bot response after a short delay
                setTimeout(() => {
                    messages.innerHTML += `<div class="message bot-message">${botResponse}</div>`;
                    messages.scrollTop = messages.scrollHeight;
                }, 500);
                messages.scrollTop = messages.scrollHeight;
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const chatbotInput = document.getElementById('chatbotInput');
            if (chatbotInput) {
                chatbotInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendMessage();
                    }
                });
            }
        });
    </script>
</body>

</html>